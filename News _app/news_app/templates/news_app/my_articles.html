{% extends 'news_app/base.html' %}
{% load static %}

{% block title %}My Articles - News App{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'news_app/articles.css' %}">
{% endblock %}

{% block content %}
    <div class="hero-section">
        <h1 class="hero-title">üìö My Articles</h1>
        <p class="hero-subtitle">Manage your published and draft articles</p>
        <div class="cta-buttons">
            <a href="{% url 'create_article' %}" class="btn btn-primary">
                ‚úèÔ∏è Create New Article
            </a>
        </div>
    </div>

    {% if articles %}
        <div class="article-grid">
            {% for article in articles %}
            <div class="article-card">
                {% if article.image %}
                <div class="article-image">
                    <img src="{{ article.image.url }}" alt="{{ article.title }}">
                </div>
                {% else %}
                <div class="article-placeholder">
                    üì∞
                </div>
                {% endif %}
                
                <div class="article-content">
                    <h3 class="article-title">{{ article.title }}</h3>
                    
                    <div class="article-meta">
                        <span>üìÖ {{ article.published_date|date:"M d, Y" }}</span>
                        {% if article.publisher %}
                        <span>üè¢ {{ article.publisher.name }}</span>
                        {% endif %}
                    </div>
                    
                    <div>
                        {% if article.approval_status == 'approved' %}
                            <span class="status-badge status-approved">‚úì Approved</span>
                        {% elif article.approval_status == 'pending' %}
                            <span class="status-badge status-pending">‚è≥ Pending</span>
                        {% elif article.approval_status == 'rejected' %}
                            <span class="status-badge status-rejected">‚úó Rejected</span>
                        {% endif %}
                    </div>
                    
                    <div class="article-actions">
                        <a href="{% url 'article_detail' article.pk %}" class="btn btn-primary btn-sm">
                            View
                        </a>
                        <a href="{% url 'edit_article' article.pk %}" class="btn btn-secondary btn-sm">
                            Edit
                        </a>
                        <a href="{% url 'delete_article' article.pk %}" class="btn btn-danger btn-sm">
                            Delete
                        </a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <div class="empty-state-icon">üì∞</div>
            <h3>No Articles Yet</h3>
            <p>Start writing your first article!</p>
            <div class="cta-buttons">
                <a href="{% url 'create_article' %}" class="btn btn-primary">
                    Create Article
                </a>
            </div>
        </div>
    {% endif %}
{% endblock %}
