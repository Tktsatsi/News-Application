{% extends "news_app/base.html" %}
{% load static %}

{% block title %}Dashboard - News App{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'news_app/dashboard.css' %}">
{% endblock %}

{% block content %}
    <div class="hero-section">
        <h1 class="hero-title">ğŸ‘‹ Welcome, {{ user.username }}!</h1>
        <p class="hero-subtitle">
            <span class="user-badge">
                {{ user.get_role_display }}
            </span>
        </p>
    </div>

    {% if user.role == 'journalist' %}
    <div class="stats-bar">
        <div class="stat-card">
            <div class="stat-icon">ğŸ“°</div>
            <div class="stat-number">{{ user.independent_articles.count }}</div>
            <div class="stat-label">Your Articles</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">ğŸ“§</div>
            <div class="stat-number">{{ user.independent_newsletters.count }}</div>
            <div class="stat-label">Your Newsletters</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">ğŸ‘¥</div>
            <div class="stat-number">{{ user.journalist_subscribers.count }}</div>
            <div class="stat-label">Subscribers</div>
        </div>
    </div>
    
    <div class="quick-actions">
        <a href="{% url 'create_article' %}" class="action-card">
            <div class="action-icon">âœï¸</div>
            <div class="action-title">Create Article</div>
            <div class="action-description">Write and publish a new article</div>
        </a>
        <a href="{% url 'create_newsletter' %}" class="action-card">
            <div class="action-icon">ğŸ“§</div>
            <div class="action-title">Create Newsletter</div>
            <div class="action-description">Compose a new newsletter</div>
        </a>
        <a href="{% url 'my_articles' %}" class="action-card">
            <div class="action-icon">ğŸ“š</div>
            <div class="action-title">My Articles</div>
            <div class="action-description">Manage your published articles</div>
        </a>
        <a href="{% url 'my_newsletters' %}" class="action-card">
            <div class="action-icon">ğŸ“¬</div>
            <div class="action-title">My Newsletters</div>
            <div class="action-description">View and edit your newsletters</div>
        </a>
    </div>
    
    {% elif user.role == 'reader' %}
    <div class="stats-bar">
        <div class="stat-card">
            <div class="stat-icon">âœï¸</div>
            <div class="stat-number">{{ user.subscribed_journalists.count }}</div>
            <div class="stat-label">Journalists</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">ğŸ¢</div>
            <div class="stat-number">{{ user.subscribed_publishers.count }}</div>
            <div class="stat-label">Publishers</div>
        </div>
    </div>
    
    <div class="quick-actions">
        <a href="{% url 'article_list' %}" class="action-card">
            <div class="action-icon">ğŸ“°</div>
            <div class="action-title">Browse Articles</div>
            <div class="action-description">Discover the latest stories</div>
        </a>
        <a href="{% url 'newsletter_list' %}" class="action-card">
            <div class="action-icon">ğŸ“§</div>
            <div class="action-title">Read Newsletters</div>
            <div class="action-description">Catch up on newsletters</div>
        </a>
        <a href="{% url 'journalist_list' %}" class="action-card">
            <div class="action-icon">âœï¸</div>
            <div class="action-title">Find Journalists</div>
            <div class="action-description">Subscribe to journalists</div>
        </a>
        <a href="{% url 'publisher_list' %}" class="action-card">
            <div class="action-icon">ğŸ¢</div>
            <div class="action-title">Discover Publishers</div>
            <div class="action-description">Follow your favorite publishers</div>
        </a>
    </div>
    
    {% elif user.role == 'editor' %}
    <div class="stats-bar">
        <div class="stat-card">
            <div class="stat-icon">â³</div>
            <div class="stat-number">{{ pending_count|default:0 }}</div>
            <div class="stat-label">Pending Articles</div>
        </div>
    </div>
    
    <div class="quick-actions">
        <a href="{% url 'pending_articles' %}" class="action-card">
            <div class="action-icon">âœ…</div>
            <div class="action-title">Review Articles</div>
            <div class="action-description">Approve or reject submissions</div>
        </a>
        <a href="{% url 'article_list' %}" class="action-card">
            <div class="action-icon">ğŸ“°</div>
            <div class="action-title">All Articles</div>
            <div class="action-description">View published articles</div>
        </a>
    </div>
    
    {% elif user.role == 'publisher' %}
    <div class="quick-actions">
        <a href="{% url 'create_publisher' %}" class="action-card">
            <div class="action-icon">ğŸ¢</div>
            <div class="action-title">Create Publisher</div>
            <div class="action-description">Set up a new publisher organization</div>
        </a>
        <a href="{% url 'publisher_list' %}" class="action-card">
            <div class="action-icon">ğŸ“‹</div>
            <div class="action-title">View Publishers</div>
            <div class="action-description">See all publishers</div>
        </a>
    </div>
    {% endif %}
{% endblock %}
